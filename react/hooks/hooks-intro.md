# Hooks-Intro

### Motivation : 동기

* React 팀의 컴포넌트를 작성하고 유지하는 동안 부딪혔던 수 많은 문제들을 해결했음

#### 컴포넌트 사이에서 상태 로직을 재사용하기 어려움

* React : 컴포넌트 간에 재사용 가능한 로직을 붙이는 방법을 제공하지 않음
  * ex - store에 연결하는 것
* 이전까지는 `render props` 또는 `고차 컴포넌트` 와 같은 패턴을 통해 이런 문제를 해결하는 방법에 익숙
* But, 이러한 패턴의 사용은 컴포넌트의 재구성을 강요 & 코드의 추적을 어렵게 만듬
* React 개발자 도구에서 React 애플리케이션을 본다면,
  * `providers`, `consumers` , `고차 컴포넌트`, `render props` 그리고 다른 추상화에 대한 레이어로 둘러싸인 `Wrapper hell`을 볼 가능성이 높음
* 개발자 도구에서 걸러낼 수 있지만, 이 문제의 요점은 심층적
  * React는 상태 관련 로직을 공유하기 위해 좀 더 좋은 기초 요소가 필요했음
* Hook을 사용하면 ⇒ 컴포넌트로부터 상태 관련 로직을 추상화할 수 있음
  * 이를 이용해 ⇒ 독립적인 테스트와 재사용이 가능
* `**Hook은 계층의 변화 없이 상태 관련 로직을 재사용할 수 있도록 도와줌**`
  * 많은 컴포넌트 혹은 커뮤니티 사이에서 Hook을 공유하기 쉽게 만들어줌

***

#### 복잡한 컴포넌트들은 이해하기 어려움

* 간단하게 시작했지만, 관리하기가 힘들어지는 상태 관련 로직들과 Side effect가 있는 컴포넌트들을 유지보수 해야 함
* 각 생명주기 메서드에는 자주 관련 없는 로직이 섞여들어감
  * `componentDidMount`와 `componentDidUpdate`는 컴포넌트 안에서 데이터를 가져오는 작업을 수행할 때 사용되어야 함
  * 같은 `componentDidMount`에서 이벤트 리스너를 설정하는 것과 같은 관계없는 로직이 포함되기도 하고
  * `componentWillUnmount` 에서 cleanup 로직을 수행하기도 함
* 함께 변경되는 상호 관련 코드는 분리되지만, 이와 연관 없는 코드들은 단일 메서드로 결합됨
  * 이로 인해 버그가 쉽게 발생하고 무결성을 너무나 쉽게 해침
* 상태 관련 로직은 한 공간안에 묶여 있게 되면, 이러한 컴포넌트들을 작게 분리하는 것은 불가능하고 테스트하기도 어려움
  * 많은 사용자들은 React를 별도의 상태 관리 라이브러리와 함께 결합해서 사용해왔음
  * 상태 관리 라이브러리는 종종 너무 많은 추상화를 하고,
    * 서로 다른 파일들 사이에서 건너뛰기를 요구하며 컴포넌트 재사용을 더욱더 어렵게 만듬
* 이 같은 문제를 해결하기 위해 ⇒ 생명주기 메서드를 기반으로 쪼개는 것보다는,
  * `Hook을 통해 서로 비슷한 것을 하는 작은 함수의 묶음으로 컴포넌트를 나누는 방법을 사용할 수 있음`
    * `구독 설정 및 데이터를 불러오는 것과 같은 로직`
  * 이러한 로직의 추적을 쉽게 할 수 있도록 reducer를 활용해 컴포넌트의 지역 상태 값을 관리하도록 할 수 있음

#### Class는 사람과 기계를 혼동시킴

* React에서의 Class 사용 ⇒ JS의 `this` 키워드가 어떻게 작동하는지 알아야만 함
  * JS의 `this` 는 대부분의 다른 언어에서와는 다르게 작동함으로 사용자에게 큰 혼란을 주었음
  * 코드의 재사용성과 구성을 매우 어렵게 만들고는 했음
* 또한, class의 사용을 위해 이벤트 핸들러가 등록되는 방법을 정확히 파악해야 했음
* 이는 `ES2022 public class fields` 가 없을 때 코드를 매우 장황하게 만듬
* 사용자들 : props, state, top-down 데이터 흐름을 완벽히 해도 Class를 이해하는 데 어려움을 겪음
* 컴포넌트를 미리 컴파일해놓는 방식에는 높은 잠재력이 있음
* Class 컴포넌트가 이러한 최적화를 더 느린 경로로 되돌리는 의도하지 않은 패턴을 장려할 수 있다는 것 발견
  * Class는 최근 사용되는 도구에서도 많은 문제를 일으킴
* Class는 코드의 최소화를 힘들게 만들고, Hot Reloading을 깨지기 쉽고 신뢰할 수 없게 만듬
  * 코드가 최적화 가능한 경로에서 유지될 가능성이 더 높은 API를 제공하기를 React 팀은 원함

***

⇒ 이러한 문제를 해결하기 위해

`Hook은 Class 없이 React 기능들을 사용하는 방법을 제시`

개념적으로 React 컴포넌트는 항상 함수에 더 가까움

* Hook
  * 명령형 코드로 해결책을 찾을 수 있게 해주며
  * 복잡한 함수형 또는 반응형 프로그래밍 기술을 배우도록 요구하지 않음
