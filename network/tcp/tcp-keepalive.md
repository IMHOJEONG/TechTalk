---
description: '-'
---

# TCP Keepalive

* 연결된 TCP 소켓을 확인하고 연결이 계속 실행 중인지 또는 끊어졌는지 확인할 수 있음&#x20;
* Keepalive 개념&#x20;
  * TCP 연결을 설정할 때 일련의 타이머를 연결
  * 이러한 타이머 중 일부는 keepalive 절차를 처리&#x20;
  * keepalive 타이머가 0에 도달하면 Peer에 데이터가 없는 keepalive Probe Packet을 보내고 ACK 플래그를 on으로 변경&#x20;
  * 일종의 중복 ACK로 TCP/IP 사양으로 인해 이를 수행할 수 있음&#x20;
* TCP는 스트림 지향 프로토콜이므로 원격 엔드포인트에는 인수가 없음&#x20;
  * 반면 원격 호스트로부터 데이터가 없고 ACK가 설정된 응답을 받게 됨&#x20;



*   Keepalive Probe에 대한 응답을 받으면 사용자 수준 구현에 대해 걱정하지 않고 연결이 계속 켜져있고 실행 중임을 확인할 수 있음&#x20;

    * 실제로 TCP는 패킷이 아닌 스트림을 처리하도록 허용&#x20;
    * 길이가 0인 데이터 패킷은 사용자 프로그램에 위험하지 않음&#x20;


* 다른 피어의 연결이 끊어지면(ex-재부팅으로 인해) 트래픽이 없더라도 연결이 끊어진 것을 알 수 있기 때문에 유용&#x20;



* 라우터와 방화벽에 추가 네트워크 트래픽을 생성할 수 있음&#x20;

#### Dead peer 확인&#x20;

